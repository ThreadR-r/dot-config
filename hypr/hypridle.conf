general {
    # Commande pour verrouiller l'écran, pour éviter les instances multiples
    lock_cmd = pidof hyprlock || hyprlock 

    # Commande à exécuter juste avant la suspension (mise en veille)
    # Ceci verrouille la session *avant* de se mettre en veille
    before_sleep_cmd = hyprlock

    # Commande à exécuter après le réveil (optionnel, pour rallumer l'écran si dpms off)
    after_sleep_cmd = hyprctl dispatch dpms on 
}

# Vous pouvez ajouter des listeners pour l'inactivité ici si vous le souhaitez, 
# mais ce n'est pas nécessaire pour la fermeture du capot (lid close).
listener {
    timeout = 300 # 5 minutes d'inactivité
    on-timeout = hyprlock # Verrouille la session
    on-resume = hyprctl dispatch dpms on # Rallume l'écran
}